<script setup lang="ts">
import FeaturedProductCard from "@/components/home/FeaturedProductCard.vue";
import HeroSection from "@/components/home/HeroSection.vue";
import ProductsGrid from "@/components/home/ProductsGrid.vue";
import ReadmeCard from "@/components/home/ReadmeCard.vue";
import SocialBento from "@/components/home/SocialBento.vue";
import { homeContent } from "@/content/home";
import { useWindowScroll } from "@vueuse/core";
import { computed, ref } from "vue";

const { y } = useWindowScroll();
const bgLoaded = ref(false);

<<<<<<< HEAD
const bgStyle = computed(() => ({
  opacity: bgLoaded.value ? 1 - Math.min(Math.max(y.value / 600, 0), 1) : 0,
  transform: `scale(${1 + y.value * 0.0003})`,
  transition: 'opacity 0.8s ease',
}));
=======
        <!-- Personal Introduction Card -->
        <mdui-card
          variant="elevated"
          style="width: 100%; padding: 0.5rem; margin-top: 1rem"
          class="shadow-elegant"
        >
          <mdui-list>
            <mdui-list-subheader>{{
              sections.personal.title
            }}</mdui-list-subheader>

            <mdui-collapse>
              <mdui-collapse-item
                v-for="(item, index) in sections.personal.items"
                :key="index"
                :value="'item-' + (index + 1)"
              >
                <mdui-list-item rounded slot="header" :icon="item.icon">
                  <mdui-icon
                    slot="end-icon"
                    name="keyboard_arrow_down"
                  ></mdui-icon>
                  <b>{{ item.title }}</b>
                  <span slot="description">{{ item.description }}</span>
                </mdui-list-item>
                <div style="margin-left: 2.5rem">
                  <mdui-list-item
                    v-for="(subItem, subIndex) in item.content"
                    :key="subIndex"
                    rounded
                    :description="subItem.description"
                    :icon="subItem.icon"
                  >
                    <template v-if="subItem.type === 'text'">
                      <b>{{ subItem.text }}</b>
                    </template>
                    <template v-else-if="subItem.type === 'image'">
                      <img :src="subItem.src" />
                    </template>
                  </mdui-list-item>
                </div>
              </mdui-collapse-item>
            </mdui-collapse>
          </mdui-list>
        </mdui-card>

        <!-- Projects Card -->
        <mdui-card
          variant="elevated"
          style="width: 100%; padding: 0.5rem; margin-top: 1rem"
          class="shadow-elegant"
        >
          <mdui-list>
            <mdui-list-subheader>{{
              sections.projects.title
            }}</mdui-list-subheader>
            <mdui-collapse class="example-value">
              <mdui-collapse-item
                v-for="(project, index) in sections.projects.items"
                :key="index"
                :value="'item-' + (index + 1)"
              >
                <mdui-list-item rounded slot="header" :icon="project.icon">
                  <mdui-icon
                    slot="end-icon"
                    name="keyboard_arrow_down"
                  ></mdui-icon>
                  <b>{{ project.title }}</b>
                  <span slot="description">{{ project.description }}</span>
                </mdui-list-item>
                <div style="margin-left: 2.5rem">
                  <template v-if="project.component">
                    <component :is="project.component"></component>
                  </template>
                  <template v-else>
                    <mdui-list-item
                      v-for="link in project.links"
                      :key="link.url"
                      rounded
                      :href="link.url"
                      target="_blank"
                      :icon="link.icon"
                      end-icon="open_in_new"
                      :description="link.description"
                    >
                      {{ link.text }}
                    </mdui-list-item>
                  </template>
                </div>
              </mdui-collapse-item>
            </mdui-collapse>
          </mdui-list>
        </mdui-card>

        <!-- Organizations Card -->
        <mdui-card
          variant="elevated"
          style="width: 100%; padding: 0.5rem; margin-top: 1rem"
          class="shadow-elegant"
        >
          <mdui-list>
            <mdui-list-subheader>{{
              sections.organizations.title
            }}</mdui-list-subheader>
            <mdui-list-item
              v-for="org in sections.organizations.current"
              :key="org.name"
              rounded
              :href="org.url"
              target="_blank"
              end-icon="open_in_new"
            >
              <b>{{ org.name }}</b>
              <span slot="description">{{ org.description }}</span>
            </mdui-list-item>

            <mdui-collapse>
              <mdui-collapse-item value="item-1">
                <mdui-list-item rounded slot="header" icon="history">
                  <mdui-icon
                    slot="end-icon"
                    name="keyboard_arrow_down"
                  ></mdui-icon>
                  {{ sections.organizations.past.title }}
                  <span slot="description">{{
                    sections.organizations.past.description
                  }}</span>
                </mdui-list-item>
                <div style="margin-left: 2.5rem">
                  <mdui-list-item
                    v-for="org in sections.organizations.past.items"
                    :key="org.name"
                    rounded
                  >
                    <b>{{ org.name }}</b>
                    <span slot="description">{{ org.description }}</span>
                  </mdui-list-item>
                </div>
              </mdui-collapse-item>
            </mdui-collapse>
          </mdui-list>
        </mdui-card>

        <!-- Social Information Card -->
        <mdui-card
          variant="elevated"
          style="width: 100%; padding: 0.5rem; margin-top: 1rem"
          class="shadow-elegant"
        >
          <mdui-list>
            <mdui-list-subheader>{{
              sections.social.title
            }}</mdui-list-subheader>

            <mdui-list-item
              v-for="platform in sections.social.mainPlatforms"
              :key="platform.name"
              rounded
              :description="platform.description"
              :icon="platform.icon"
              :href="platform.url"
              target="_blank"
              end-icon="open_in_new"
              >{{ platform.name }}</mdui-list-item
            >

            <mdui-collapse>
              <mdui-collapse-item value="item-1">
                <mdui-list-item rounded slot="header" icon="people">
                  <mdui-icon
                    slot="end-icon"
                    name="keyboard_arrow_down"
                  ></mdui-icon>
                  {{ sections.social.other.title }}
                </mdui-list-item>
                <div style="margin-left: 2.5rem">
                  <mdui-list-item
                    v-for="platform in sections.social.other.platforms"
                    :key="platform.name"
                    rounded
                    :description="platform.description"
                    :icon="platform.icon"
                    :href="platform.url"
                    >{{ platform.name }}</mdui-list-item
                  >
                </div>
              </mdui-collapse-item>
            </mdui-collapse>
          </mdui-list>
        </mdui-card>
      </mdui-card>
    </div>
  </div>
</template>

<script>
import "@/style/grid.css";
import ZeroCatCard from "@/components/ZeroCatCard.vue";
import ClassworksCard from "@/components/ClassworksCard.vue";
export default {
  name: "IndexPage",
  components: {
    ZeroCatCard,
    ClassworksCard,
  },
  mounted() {
    // ‰∏∫ÊØè‰∏™Âç°ÁâáÊ∑ªÂä†Á¥¢Âºï‰ª•ÂÆûÁé∞Á∫ßËÅîÂä®Áîª
    const cards = document.querySelectorAll('.mdui-card');
    cards.forEach((card, index) => {
      card.style.setProperty('--card-index', index);
    });
  },
  data() {
    return {
      profile: {
        name: "Â≠ôÊÇüÂÖÉ",
        motto: "È∏∑È∏ü‰πã‰∏çÁæ§ÂÖÆÔºåËá™Ââç‰∏ñËÄåÂõ∫ÁÑ∂„ÄÇ",
      },
      quickLinks: [
        { icon: "public", text: "ZeroCatÁ§æÂå∫", url: "https://zerocat.dev" },
        {
          icon: "tv",
          text: "ÂìîÂì©ÂìîÂì©",
          url: "https://space.bilibili.com/661404066",
        },
        { icon: "code", text: "Github", url: "https://github.com/sunwuyuan" },
      ],
      githubSnake:
        "https://gh.190823.xyz/https://raw.githubusercontent.com/sunwuyuan/sunwuyuan/output/github-contribution-grid-snake-dark.svg",
      introduction: {
        greeting: "‰Ω†Â•ΩÔºåÊàëÊòØÂ≠ôÊÇüÂÖÉ",
        description:
          "Êù•Ëá™‰∏≠ÂõΩÁöÑÈ´ò‰∏≠Â≠¶Áîü,<br />‰ª£Á†ÅÂÜôÁöÑ‰∏çÊòØÂæàÂ•ΩÔºå‰πü‰∏çÁªèÂ∏∏Âú®Á∫øÔºåÂ¶ÇÊûúÈúÄË¶ÅËÅîÁ≥ªËØ∑ÂèëÈÇÆ‰ª∂Áªôsun@wuyuan.dev",
      },
      sections: {
        personal: {
          title: "Personal Introduction / ‰∏™‰∫∫‰ªãÁªç",
          items: [
            {
              title: "Â≠¶Ê†°",
              description: "È´ò‰∏≠‰∫Ü",
              icon: "school",
              content: [
                {
                  type: "text",
                  text: "Êüê‰∏çÁü•ÂêçÂ∞èÂ≠¶",
                  description: "ÊàñËÆ∏‰ª•ÂêéÂÖ¨ÂºÄ?",
                  icon: "school",
                },
                {
                  type: "text",
                  text: "Êüê‰∏çÁü•ÂêçÂàù‰∏≠",
                  description: "ÊàñËÆ∏‰ª•ÂêéÂÖ¨ÂºÄ?",
                  icon: "school",
                },
              ],
            },
            {
              title: "ÊäÄËÉΩ&ÁâπÈïø",
              description: "Âá†‰πéÂï•ÈÉΩ‰∏ç‰ºö",
              icon: "favorite",
              content: [
                {
                  type: "text",
                  text: "ËΩØ‰ª∂ÁºñÁ®ã",
                  description: "ÂâçÁ´Ø/Nodejs/ÁîªÈ•º",
                  icon: "code",
                },
                {
                  type: "text",
                  text: "Êë∏È±ºüêü",
                  description: "Êë∏È±ºÔºåÊó†ËÆ∫‰∏äËØæ‰∏é‰∏ãËØæ",
                  icon: "table",
                },
                {
                  type: "image",
                  src: "https://github-readme-stats.190823.xyz/api?username=SUNWUYUAN&theme=github_dark&show_icons=true",
                },
                {
                  type: "image",
                  src: "https://github-readme-stats.190823.xyz/api/top-langs/?username=SUNWUYUAN&layout=compact&theme=github_dark",
                },
              ],
            },
          ],
        },
        projects: {
          title: "Project / ‰ΩúÂìÅ",
          items: [
            {
              title: "ZeroCat Á§æÂå∫",
              description: "ÂºÄÊ∫êScratchÁ§æÂå∫",
              icon: "extension",
              component: "ZeroCatCard",
            },
            {
              title: "Classworks ‰Ωú‰∏öÊùø",
              description: "ÈÄÇÁî®‰∫éÁè≠Á∫ßÂ§ßÂ±èÁöÑ‰Ωú‰∏öÊùøÂ∞èÂ∑•ÂÖ∑",
              icon: "school",
              component: "ClassworksCard",
              links: [
                {
                  text: "ÁΩëÁ´ô",
                  url: "https://cs.houlangs.com",
                  icon: "public",
                  description: "Âú®Á∫øËÆøÈóÆÂú∞ÂùÄ",
                },
                {
                  text: "Github",
                  url: "https://github.com/ZeroCatDev/Classworks",
                  icon: "code",
                  description: "ÂºÄÊ∫ê‰ª£Á†Å‰ªìÂ∫ì",
                },
              ],
            },
          ],
        },
        organizations: {
          title: "Organization / ÁªÑÁªá",
          current: [
            {
              name: "ÂéöÊµ™‰∫ë",
              description: "ÈïøÊ±üÂêéÊµ™Êé®ÂâçÊµ™ ÊµÆ‰∏ñÊñ∞‰∫∫Êç¢Êóß‰∫∫ Êú¨‰∫∫2024-Ëá≥‰ªä",
              url: "https://hlyun.org/",
            },
            {
              name: "Áß¶Ê∞èÂ∑•‰ΩúÂÆ§(YDJÂ∑•‰ΩúÂÆ§)",
              description: "ÊúâÈÅìÂ∞èÂõæÁÅµ‰∏äÁöÑScratchÂ∑•‰ΩúÂÆ§ Êú¨‰∫∫2021-Ëá≥‰ªä",
              url: "https://ydj.wuyuan.dev/",
            },
          ],
          past: {
            title: "Â∑≤ÈÄÄÂá∫",
            description: "ÂéÜÂè≤",
            items: [
              {
                name: "ËúúËúÇ‰∫ë",
                description: "‰∏çÂ•ΩËØÑ‰ª∑ Êú¨‰∫∫2024-2024",
              },
            ],
          },
        },
        social: {
          title: "Social Information / Á§æ‰∫§‰ø°ÊÅØ",
          mainPlatforms: [
            {
              name: "ÂìîÂì©ÂìîÂì© ÊÇüÂÖÉÂñµ",
              description: "661404066",
              icon: "tv",
              url: "https://space.bilibili.com/661404066",
            },
            {
              name: "Áü•‰πé Â≠ôÊÇüÂÖÉ‚Äã",
              description: "sunwuyuan",
              icon: "question_answer",
              url: "https://www.zhihu.com/people/sunwuyuan",
            },
            {
              name: "Github SunWuyuan",
              description: "SunWuyuan",
              icon: "code",
              url: "https://github.com/SunWuyuan",
            },
            {
              name: "QQÁæ§",
              description: "Áæ§ËÅä",
              icon: "chat",
              url: "https://qm.qq.com/q/q4Uw6NSWIg",
            },
          ],
          other: {
            title: "Emmm",
            platforms: [
              {
                name: "YouTube",
                description: "@sunwuyuan",
                icon: "tv",
                url: "https://www.youtube.com/@sunwuyuan",
              },
              {
                name: "Telegram",
                description: "@zerocatdev",
                icon: "chat",
                url: "https://t.me/@zerocatdev",
              },
            ],
          },
        },
      },
    };
  },

};
>>>>>>> bc0c507ac3db0703e6398866f00599e97d275bda
</script>

<template>
  <!-- Hero background image with scroll parallax -->
  <div class="fixed inset-0 z-[-1] overflow-hidden" :style="bgStyle">
    <img
      src="https://uapis.cn/api/v1/random/image?category=acg&type=pc"
      alt=""
      class="h-full w-full object-cover"
      @load="bgLoaded = true"
    />
    <div class="absolute inset-0 bg-black/30" />
    <div
      class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[hsl(var(--background))]"
    />
  </div>

  <!-- Full-page glow orbs (no clipping) -->
  <div class="page-glow" />
  <div class="page-glow-extra" />

  <div class="relative z-10 px-4 pb-16 pt-24 sm:px-6 sm:pt-32 lg:px-8">
    <main class="relative mx-auto flex w-full max-w-[1380px] flex-col gap-12">
      <HeroSection :profile="homeContent.profile" />
      <FeaturedProductCard :product="homeContent.featuredProduct" />
      <ProductsGrid :products="homeContent.products" />
      <ReadmeCard />
      <SocialBento :organizations="homeContent.organizations" />
    </main>
  </div>
</template>
